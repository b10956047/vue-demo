"use strict";(globalThis["webpackChunkagricultural_tractor"]=globalThis["webpackChunkagricultural_tractor"]||[]).push([[179],{8179:(e,l,a)=>{a.r(l),a.d(l,{default:()=>M});var t=a(1758);const o={class:"q-pa-md"},i={id:"panel1",style:{display:"block"}},n={class:"q-gutter-md row"},s={class:"row justify-center q-mt-md"},d={id:"panel2",style:{display:"none"}},r={class:"my-form"},p={class:"my-form-text"},m=(0,t.Lk)("p",{class:"text"},"審核",-1),u={class:"q-gutter-md"},c={class:"image"},h=(0,t.Lk)("p",{class:"img_title"},"照片",-1),g={class:"img"},b=["href"],y=["src"],f={class:"image"},_=(0,t.Lk)("p",{class:"img_title"},"身份證影本",-1),w={class:"img"},k=["href"],V=["src"],v={class:"image"},U=(0,t.Lk)("p",{class:"img_title"},"汽車駕照影本",-1),x={class:"img"},L=["href"],F=["src"],q={class:"my-form-bottom1"},C={class:"q-gutter-md"};function R(e,l,a,R,O,A){const B=(0,t.g2)("q-select"),P=(0,t.g2)("q-btn"),E=(0,t.g2)("q-td"),I=(0,t.g2)("q-table"),Q=(0,t.g2)("q-pagination"),N=(0,t.g2)("q-input");return(0,t.uX)(),(0,t.CE)("div",o,[(0,t.Lk)("div",i,[(0,t.Lk)("div",n,[(0,t.bF)(B,{class:"width",filled:"",modelValue:O.ladder,"onUpdate:modelValue":[l[0]||(l[0]=e=>O.ladder=e),A.update_table],options:O.ladderOpt,label:"場次"},null,8,["modelValue","options","onUpdate:modelValue"]),(0,t.bF)(B,{class:"width",filled:"",modelValue:O.review,"onUpdate:modelValue":[l[1]||(l[1]=e=>O.review=e),A.update_table],options:O.reviewOpt,label:"審核資格"},null,8,["modelValue","options","onUpdate:modelValue"])]),(0,t.bF)(I,{class:"my-table margin",rows:O.ticketRows,columns:O.columns,"row-key":"name",pagination:O.pagination,"onUpdate:pagination":l[2]||(l[2]=e=>O.pagination=e),"hide-pagination":""},{"body-cell-action":(0,t.k6)((e=>[(0,t.bF)(E,{props:e},{default:(0,t.k6)((()=>[(0,t.bF)(P,{color:"warning",onClick:l=>A.reviewRow(e.row),label:"審核"},null,8,["onClick"]),(0,t.bF)(P,{color:"red",onClick:l=>A.deleteRow(e.row),label:"刪除",style:{"margin-left":"10px"}},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","pagination"]),(0,t.Lk)("div",s,[(0,t.bF)(Q,{modelValue:O.pagination.page,"onUpdate:modelValue":l[3]||(l[3]=e=>O.pagination.page=e),color:"blue-5",max:O.pagesNumber,size:"sm","max-pages":5,"boundary-numbers":!1},null,8,["modelValue","max"])])]),(0,t.Lk)("div",d,[(0,t.Lk)("div",r,[(0,t.Lk)("div",p,[(0,t.bF)(P,{label:"返回",color:"primary",style:{height:"40px","margin-bottom":"1%"},onClick:A.back},null,8,["onClick"]),m,(0,t.Lk)("div",u,[(0,t.bF)(N,{filled:"",modelValue:O.apply_info.name,"onUpdate:modelValue":l[4]||(l[4]=e=>O.apply_info.name=e),label:"姓名",readonly:""},null,8,["modelValue"]),(0,t.bF)(N,{filled:"",modelValue:O.apply_info.sex,"onUpdate:modelValue":l[5]||(l[5]=e=>O.apply_info.sex=e),label:"性別",readonly:""},null,8,["modelValue"]),(0,t.bF)(N,{filled:"",modelValue:O.apply_info.id,"onUpdate:modelValue":l[6]||(l[6]=e=>O.apply_info.id=e),label:"身份證",readonly:""},null,8,["modelValue"]),(0,t.bF)(N,{filled:"",modelValue:O.apply_info.birthday,"onUpdate:modelValue":l[7]||(l[7]=e=>O.apply_info.birthday=e),label:"出生日期",mask:"###/##/##",readonly:""},null,8,["modelValue"]),(0,t.bF)(N,{filled:"",modelValue:O.apply_info.tel_1,"onUpdate:modelValue":l[8]||(l[8]=e=>O.apply_info.tel_1=e),label:"電話(公)",readonly:""},null,8,["modelValue"]),(0,t.bF)(N,{filled:"",modelValue:O.apply_info.tel_2,"onUpdate:modelValue":l[9]||(l[9]=e=>O.apply_info.tel_2=e),label:"電話(宅)",readonly:""},null,8,["modelValue"]),(0,t.bF)(N,{filled:"",modelValue:O.apply_info.phone,"onUpdate:modelValue":l[10]||(l[10]=e=>O.apply_info.phone=e),label:"手機號碼",readonly:""},null,8,["modelValue"]),(0,t.bF)(N,{filled:"",modelValue:O.apply_info.mail,"onUpdate:modelValue":l[11]||(l[11]=e=>O.apply_info.mail=e),label:"電子郵件",readonly:""},null,8,["modelValue"]),(0,t.bF)(N,{filled:"",modelValue:O.apply_info.code,"onUpdate:modelValue":l[12]||(l[12]=e=>O.apply_info.code=e),label:"郵遞區號",readonly:""},null,8,["modelValue"]),(0,t.bF)(N,{filled:"",modelValue:O.apply_info.address,"onUpdate:modelValue":l[13]||(l[13]=e=>O.apply_info.address=e),label:"住址",readonly:""},null,8,["modelValue"]),(0,t.Lk)("div",c,[h,(0,t.Lk)("div",g,[(0,t.Lk)("a",{href:O.apply_info.imageUrl_1,target:"_blank"},[(0,t.Lk)("img",{class:"img_style",src:O.apply_info.imageUrl_1},null,8,y)],8,b)])]),(0,t.Lk)("div",f,[_,(0,t.Lk)("div",w,[(0,t.Lk)("a",{href:O.apply_info.imageUrl_2,target:"_blank"},[(0,t.Lk)("img",{class:"img_style",src:O.apply_info.imageUrl_2},null,8,V)],8,k)])]),(0,t.Lk)("div",v,[U,(0,t.Lk)("div",x,[(0,t.Lk)("a",{href:O.apply_info.imageUrl_3,target:"_blank"},[(0,t.Lk)("img",{class:"img_style",src:O.apply_info.imageUrl_3},null,8,F)],8,L)])])])]),(0,t.Lk)("div",q,[(0,t.Lk)("div",C,[(0,t.bF)(B,{filled:"",modelValue:O.state,"onUpdate:modelValue":[l[14]||(l[14]=e=>O.state=e),A.update_table],options:O.stateOpt,label:"審核資格"},null,8,["modelValue","options","onUpdate:modelValue"]),"資格不符"==O.state?((0,t.uX)(),(0,t.Wv)(N,{key:0,filled:"",modelValue:O.reason,"onUpdate:modelValue":l[15]||(l[15]=e=>O.reason=e),label:"資格不符原因"},null,8,["modelValue"])):(0,t.Q3)("",!0),(0,t.bF)(P,{label:"送出",type:"submit",color:"primary",onClick:A.onSubmit},null,8,["onClick"])])])])])])}a(239);const O={components:{},data(){return{ladder:"",ladderOpt:[],review:"全部",reviewOpt:["全部","待審核","資格不符","資格符合"],state:"",stateOpt:["資格不符","資格符合"],reason:"",pagination:{sortBy:"desc",descending:!1,page:1,rowsPerPage:4},pagesNumber:0,columns:[{name:"action",label:"操作",align:"center"},{name:"ladder",required:!0,label:"場次",align:"left",field:"ladder",sortable:!0},{name:"name",align:"center",label:"姓名",field:"name"},{name:"sex",label:"性別",field:"sex",align:"center"},{name:"id",label:"身分證字號",field:"id",align:"left"},{name:"phone",label:"電話",field:"phone",align:"left"},{name:"state",label:"審核狀態",field:"state",sortable:!0,align:"left"},{name:"reason",label:"原因",field:"reason",align:"left"}],rows:[{no:1,ladder:"004",name:"王小明",sex:"男",id:"H123456789",phone:"0123456789",state:"待審核",reason:""},{no:2,ladder:"003",name:"鄭大豪",sex:"男",id:"B123456789",phone:"0845624156",state:"資格不符",reason:"照片格式不符"},{no:3,ladder:"003",name:"蔡小美",sex:"女",id:"A123456789",phone:"0954782156",state:"資格符合",reason:""},{no:4,ladder:"002",name:"許小仙",sex:"男",id:"G123456789",phone:"0412589651",state:"資格符合",reason:""},{no:5,ladder:"001",name:"邱小淑",sex:"女",id:"K123456789",phone:"0521482358",state:"資格符合",reason:""}],ticketRows:[],apply_info:{no:1,name:"王小明",sex:"男",id:"A123456789",birthday:"056/04/28",tel_1:"031234567",tel_2:"031234567",phone:"0912345678",mail:"example@gmail.com",code:"123",address:"屏東縣內埔鄉小明路1號",imageUrl_1:"/vue-demo/icons/favicon-32x32.png",imageUrl_2:"/vue-demo/icons/favicon-96x96.png",imageUrl_3:"/vue-demo/icons/favicon-128x128.png"},tmp_no:""}},created(){this.ticketRows=this.rows,this.getPagesNumber(),this.getOptions()},mounted(){document.getElementById("panel1").style.display="block",document.getElementById("panel2").style.display="none"},methods:{getPagesNumber(){this.pagesNumber=Math.ceil(this.rows.length/this.pagination.rowsPerPage)},getOptions(){this.ladderOpt=[""];for(let e=0;e<this.rows.length;e++)this.ladderOpt.includes(this.rows[e].ladder)||this.ladderOpt.push(this.rows[e].ladder)},update_table(){this.ticketRows=[];for(let e=0;e<this.rows.length;e++)""!=this.ladder?this.rows[e].ladder==this.ladder&&("全部"!=this.review?this.rows[e].state==this.review&&this.ticketRows.push(this.rows[e]):this.ticketRows.push(this.rows[e])):"全部"!=this.review?this.rows[e].state==this.review&&this.ticketRows.push(this.rows[e]):this.ticketRows.push(this.rows[e]);this.pagesNumber=Math.ceil(this.ticketRows.length/this.pagination.rowsPerPage)},deleteRow(e){for(let l=0;l<this.rows.length;l++)this.rows[l].no==e.no&&this.rows.splice(l,1);this.update_table(),this.$q.notify({color:"green",textColor:"white",icon:"check_circle",message:"已刪除此報名資訊",position:"top"})},reviewRow(e){this.tmp_no=e.no,document.getElementById("panel1").style.display="none",document.getElementById("panel2").style.display="block"},back(){document.getElementById("panel1").style.display="block",document.getElementById("panel2").style.display="none",this.tmp_no="",this.state="",this.reason=""},onSubmit(){if(""==this.state||null==this.state)this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"請選擇審核結果",position:"top"});else if("資格不符"!=this.state||""!=this.reason&&null!=this.reason){"資格符合"==this.state&&(this.reason="");for(let e=0;e<this.rows.length;e++)this.rows[e].no==this.tmp_no&&(this.rows[e].state=this.state,this.rows[e].reason=this.reason);this.update_table(),this.$q.notify({color:"green",textColor:"white",icon:"check_circle",message:"審核成功",position:"top"}),this.back()}else this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"請輸入審核不符原因",position:"top"})}}};var A=a(2807),B=a(5848),P=a(4092),E=a(5262),I=a(6384),Q=a(4700),N=a(7837),T=a(8582),$=a.n(T);const S=(0,A.A)(O,[["render",R]]),M=S;$()(O,"components",{QSelect:B.A,QTable:P.A,QTd:E.A,QBtn:I.A,QPagination:Q.A,QInput:N.A})}}]);