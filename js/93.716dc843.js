"use strict";(globalThis["webpackChunkagricultural_tractor"]=globalThis["webpackChunkagricultural_tractor"]||[]).push([[93],{93:(e,l,a)=>{a.r(l),a.d(l,{default:()=>j});var i=a(1758),t=a(8790);const o={class:"q-pa-md"},n={id:"panel1",style:{display:"block"}},s={class:"row justify-center q-mt-md"},d={id:"panel2",style:{display:"none"}},r={class:"my-form"},p={class:"my-form-text"},f={class:"text"},u={class:"q-gutter-md row"},_={style:{display:"flex","justify-content":"center","align-items":"center","margin-top":"2%"}},m={id:"panel3",style:{display:"none"}},c={class:"my-form"},y={class:"my-form-text"},h={class:"text"},g={class:"q-gutter-md"},b=(0,i.Lk)("div",{class:"my-form-bottom"},[(0,i.Lk)("p",null," 本表所載之各項資料及所附文件均經本人詳實核對無誤；另亦同意作為主管機關辦理本項考照有關個人資料之核對用 ")],-1),V={style:{display:"flex","justify-content":"center"}},k={class:"my-form-bottom"},v=(0,i.Lk)("source",{src:"/vue-demo/DemoVideo.mp4",type:"video/mp4"},null,-1);function R(e,l,a,R,F,w){const $=(0,i.g2)("q-btn"),C=(0,i.g2)("q-td"),E=(0,i.g2)("q-table"),x=(0,i.g2)("q-pagination"),q=(0,i.g2)("q-icon"),U=(0,i.g2)("q-file"),I=(0,i.g2)("q-input"),B=(0,i.g2)("q-select"),L=(0,i.g2)("q-checkbox"),A=(0,i.g2)("q-card-section"),D=(0,i.g2)("q-card-actions"),P=(0,i.g2)("q-card"),Q=(0,i.g2)("q-dialog");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",o,[(0,i.Lk)("div",n,[(0,i.bF)(E,{class:"my-table",title:e.教育訓練報名,rows:F.rows,columns:F.columns,"row-key":"name",pagination:F.pagination,"onUpdate:pagination":l[0]||(l[0]=e=>F.pagination=e),"hide-pagination":""},{"body-cell-upload":(0,i.k6)((e=>[(0,i.bF)(C,{props:e},{default:(0,i.k6)((()=>[(0,i.bF)($,{color:"primary",label:"上傳",onClick:l=>w.uploadRow(e.row),disable:!(e.row.training_star<=F.today&&F.today<=e.row.training_end&&"已完成訓練"!=e.row.result)},null,8,["onClick","disable"])])),_:2},1032,["props"])])),"body-cell-action":(0,i.k6)((e=>[(0,i.bF)(C,{props:e},{default:(0,i.k6)((()=>[(0,i.bF)($,{color:"primary",onClick:l=>w.applyRow(e.row),label:"報名",disable:!(e.row.apply_star<=F.today&&F.today<=e.row.apply_end&&"已完成訓練"==e.row.result)},null,8,["onClick","disable"])])),_:2},1032,["props"])])),_:1},8,["title","rows","columns","pagination"]),(0,i.Lk)("div",s,[(0,i.bF)(x,{modelValue:F.pagination.page,"onUpdate:modelValue":l[1]||(l[1]=e=>F.pagination.page=e),color:"blue-5",max:w.pagesNumber,size:"sm","max-pages":5,"boundary-numbers":!1},null,8,["modelValue","max"])])]),(0,i.Lk)("div",d,[(0,i.Lk)("div",r,[(0,i.Lk)("div",p,[(0,i.bF)($,{label:"返回",color:"primary",style:{height:"40px","margin-bottom":"1%"},onClick:w.back},null,8,["onClick"]),(0,i.Lk)("p",f,(0,t.v_)(F.title),1),(0,i.Lk)("div",u,[(0,i.bF)(U,{class:"width",accept:"image/*",modelValue:F.prove_info.file_1,"onUpdate:modelValue":l[2]||(l[2]=e=>F.prove_info.file_1=e),label:"職業安全衛生證明",clearable:"",outlined:"",onClear:l[3]||(l[3]=e=>w.removeFile(1))},{prepend:(0,i.k6)((()=>[(0,i.bF)(q,{name:"image"})])),_:1},8,["modelValue"]),(0,i.bF)(U,{class:"width",accept:"image/*",modelValue:F.prove_info.file_2,"onUpdate:modelValue":l[4]||(l[4]=e=>F.prove_info.file_2=e),label:"曳引機課程證明",clearable:"",outlined:"",onClear:l[5]||(l[5]=e=>w.removeFile(2))},{prepend:(0,i.k6)((()=>[(0,i.bF)(q,{name:"image"})])),_:1},8,["modelValue"]),(0,i.bF)(U,{class:"width",accept:"image/*",modelValue:F.prove_info.file_3,"onUpdate:modelValue":l[6]||(l[6]=e=>F.prove_info.file_3=e),label:"曳引機操作實作證明",clearable:"",outlined:"",onClear:l[7]||(l[7]=e=>w.removeFile(3))},{prepend:(0,i.k6)((()=>[(0,i.bF)(q,{name:"image"})])),_:1},8,["modelValue"]),(0,i.bF)($,{class:"width",label:"交通法規及農機具之相關操作使用規定",color:"primary",onClick:w.playVideo},null,8,["onClick"])])]),(0,i.Lk)("div",_,[(0,i.bF)($,{label:"送出",type:"submit",color:"primary",onClick:w.onSubmit_1},null,8,["onClick"])])])]),(0,i.Lk)("div",m,[(0,i.Lk)("div",c,[(0,i.Lk)("div",y,[(0,i.bF)($,{label:"返回",color:"primary",style:{height:"40px","margin-bottom":"1%"},onClick:w.back},null,8,["onClick"]),(0,i.Lk)("p",h,(0,t.v_)(F.title),1),(0,i.Lk)("div",g,[(0,i.bF)(I,{ref:"name_Ref",filled:"",modelValue:F.apply_info.name,"onUpdate:modelValue":l[8]||(l[8]=e=>F.apply_info.name=e),label:"姓名","lazy-rules":"",rules:[e=>null!==e&&""!==e]},null,8,["modelValue","rules"]),(0,i.bF)(B,{ref:"sex_Ref",filled:"",modelValue:F.apply_info.sex,"onUpdate:modelValue":l[9]||(l[9]=e=>F.apply_info.sex=e),options:F.FM,label:"性別","lazy-rules":"",rules:[e=>null!==e&&""!==e]},null,8,["modelValue","options","rules"]),(0,i.bF)(I,{ref:"id_Ref",filled:"",modelValue:F.apply_info.id,"onUpdate:modelValue":l[10]||(l[10]=e=>F.apply_info.id=e),label:"身份證","lazy-rules":"",rules:[e=>null!==e&&""!==e]},null,8,["modelValue","rules"]),(0,i.bF)(I,{ref:"birthday_Ref",filled:"",modelValue:F.apply_info.birthday,"onUpdate:modelValue":l[11]||(l[11]=e=>F.apply_info.birthday=e),label:"出生日期",mask:"###/##/##",hint:"範例: 若為民國65年1月5日，請填065/01/05","lazy-rules":"",rules:[e=>null!==e&&""!==e&&9==e.length]},null,8,["modelValue","rules"]),(0,i.bF)(I,{ref:"tel_1_Ref",filled:"",modelValue:F.apply_info.tel_1,"onUpdate:modelValue":l[12]||(l[12]=e=>F.apply_info.tel_1=e),label:"電話(公)","lazy-rules":"",rules:[e=>null!==e&&""!==e]},null,8,["modelValue","rules"]),(0,i.bF)(I,{ref:"tel_2_Ref",filled:"",modelValue:F.apply_info.tel_2,"onUpdate:modelValue":l[13]||(l[13]=e=>F.apply_info.tel_2=e),label:"電話(宅)","lazy-rules":"",rules:[e=>null!==e&&""!==e]},null,8,["modelValue","rules"]),(0,i.bF)(I,{ref:"phone_Ref",filled:"",modelValue:F.apply_info.phone,"onUpdate:modelValue":l[14]||(l[14]=e=>F.apply_info.phone=e),label:"手機號碼","lazy-rules":"",rules:[e=>null!==e&&""!==e]},null,8,["modelValue","rules"]),(0,i.bF)(I,{ref:"mail_Ref",filled:"",modelValue:F.apply_info.mail,"onUpdate:modelValue":l[15]||(l[15]=e=>F.apply_info.mail=e),label:"電子郵件","lazy-rules":"",rules:[e=>null!==e&&""!==e]},null,8,["modelValue","rules"]),(0,i.bF)(I,{ref:"code_Ref",filled:"",modelValue:F.apply_info.code,"onUpdate:modelValue":l[16]||(l[16]=e=>F.apply_info.code=e),label:"郵遞區號","lazy-rules":"",rules:[e=>null!==e&&""!==e]},{append:(0,i.k6)((()=>[(0,i.bF)($,{label:"查詢郵遞區號",onClick:w.handleOpenUrl},null,8,["onClick"])])),_:1},8,["modelValue","rules"]),(0,i.bF)(I,{ref:"address_Ref",filled:"",modelValue:F.apply_info.address,"onUpdate:modelValue":l[17]||(l[17]=e=>F.apply_info.address=e),label:"住址","lazy-rules":"",rules:[e=>null!==e&&""!==e]},null,8,["modelValue","rules"]),(0,i.bF)(U,{ref:"file_1_Ref",accept:"image/*",modelValue:F.apply_info.file_1,"onUpdate:modelValue":l[18]||(l[18]=e=>F.apply_info.file_1=e),label:"照片",clearable:"",outlined:"",onClear:l[19]||(l[19]=e=>w.removeFile(1)),hint:"註:二年內彩色正面半身脫帽照片(照片背景需素色)",rules:[e=>null!==e&&""!==e]},{prepend:(0,i.k6)((()=>[(0,i.bF)(q,{name:"image"})])),_:1},8,["modelValue","rules"]),(0,i.bF)(U,{ref:"file_2_Ref",accept:"image/*",modelValue:F.apply_info.file_2,"onUpdate:modelValue":l[20]||(l[20]=e=>F.apply_info.file_2=e),label:"身分證影本",clearable:"",outlined:"",onClear:l[21]||(l[21]=e=>w.removeFile(2)),hint:"註:請上傳正面",rules:[e=>null!==e&&""!==e]},{prepend:(0,i.k6)((()=>[(0,i.bF)(q,{name:"image"})])),_:1},8,["modelValue","rules"]),(0,i.bF)(U,{ref:"file_3_Ref",accept:"image/*",modelValue:F.apply_info.file_3,"onUpdate:modelValue":l[22]||(l[22]=e=>F.apply_info.file_3=e),label:"汽車駕照影本",clearable:"",outlined:"",onClear:l[23]||(l[23]=e=>w.removeFile(3)),hint:"註:請上傳正面",rules:[e=>null!==e&&""!==e]},{prepend:(0,i.k6)((()=>[(0,i.bF)(q,{name:"image"})])),_:1},8,["modelValue","rules"])])]),b,(0,i.Lk)("div",V,[(0,i.bF)(L,{modelValue:F.accept,"onUpdate:modelValue":l[24]||(l[24]=e=>F.accept=e),label:"我接受許可和條款",color:"blue"},null,8,["modelValue"])]),(0,i.Lk)("div",k,[(0,i.bF)($,{label:"報名",type:"submit",color:"primary",onClick:w.onSubmit_2},null,8,["onClick"]),(0,i.bF)($,{label:"清空",type:"reset",color:"primary",flat:"",class:"q-ml-sm",onClick:w.onReset},null,8,["onClick"])])])])]),(0,i.bF)(Q,{modelValue:F.showVideoDialog,"onUpdate:modelValue":l[27]||(l[27]=e=>F.showVideoDialog=e),persistent:""},{default:(0,i.k6)((()=>[(0,i.bF)(P,null,{default:(0,i.k6)((()=>[(0,i.bF)(A,null,{default:(0,i.k6)((()=>[(0,i.Lk)("video",{ref:"videoPlayer",width:"100%",controls:"",onEnded:l[25]||(l[25]=(...e)=>w.onVideoEnded&&w.onVideoEnded(...e)),onPlay:l[26]||(l[26]=(...e)=>w.onVideoPlay&&w.onVideoPlay(...e))},[v,(0,i.eW)(" 您的瀏覽器不支援影片播放 ")],544)])),_:1}),(0,i.bF)(D,{align:"right"},{default:(0,i.k6)((()=>[(0,i.bF)($,{flat:"",label:"關閉",onClick:w.closeDialog,disabled:!F.canClose},null,8,["onClick","disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var F=a(2142);const w={components:{},data(){return{today:"",pagination:{sortBy:"desc",descending:!1,page:1,rowsPerPage:4},columns:[{name:"upload",label:"",align:"left",align:"center"},{name:"ladder",required:!0,label:"梯次",align:"left",field:"ladder",sortable:!0},{name:"training_date",label:"教育訓練時間",align:"left",field:"training_date",sortable:!0},{name:"result",align:"left",label:"審查結果",field:"result"},{name:"reason",align:"left",label:"尚未完成原因",field:"reason"},{name:"apply_date",label:"報名時間",align:"left",field:"apply_date",sortable:!0},{name:"action",label:"",align:"left"}],rows:[{ladder:"004",training_date:"113/11/01~113/11/23",training_star:"113/11/01",training_end:"113/11/23",result:"尚未完成訓練",reason:"",apply_date:"113/11/21~113/11/25",apply_star:"113/11/21",apply_end:"113/11/25"},{ladder:"003",training_date:"113/11/01~113/11/20",training_star:"113/11/01",training_end:"113/11/20",result:"已完成訓練",reason:"",apply_date:"113/11/21~113/11/25",apply_star:"113/11/21",apply_end:"113/11/25"},{ladder:"002",training_date:"113/10/01~113/10/20",training_star:"113/10/01",training_end:"113/10/20",result:"尚未完成訓練",reason:"",apply_date:"113/10/21~113/10/25",apply_star:"113/10/21",apply_end:"113/10/25"},{ladder:"001",training_date:"113/09/01~113/09/20",training_star:"113/09/01",training_end:"113/09/20",result:"尚未完成訓練",reason:"",apply_date:"113/09/21~113/09/25",apply_star:"113/09/21",apply_end:"113/09/25"}],title:null,apply_info:{name:"王小明",sex:"男",id:"A123456789",birthday:"056/04/28",tel_1:"031234567",tel_2:"031234567",phone:"0912345678",mail:"example@gmail.com",code:"123",address:null,file_1:null,file_2:null,file_3:null},prove_info:{file_1:null,file_2:null,file_3:null,check:null},FM:["男","女"],accept:!1,showVideoDialog:!1,canClose:!1,video_check:!1,tmp_id:""}},computed:{pagesNumber(){return Math.ceil(this.rows.length/this.pagination.rowsPerPage)}},mounted(){this.timeFormat(),document.getElementById("panel1").style.display="block",document.getElementById("panel2").style.display="none",document.getElementById("panel3").style.display="none"},methods:{timeFormat(){let e=new Date;e.getFullYear(),e.getMonth(),e.getMonth(),e.getDate(),e.getDate(),e.getHours(),e.getHours(),e.getMinutes(),e.getMinutes(),e.getSeconds(),e.getSeconds();this.today="113/11/23"},uploadRow(e){this.tmp_id=e.ladder,this.title=`上傳梯次${e.ladder}的教育訓練期滿證明`,document.getElementById("panel1").style.display="none",document.getElementById("panel2").style.display="block",document.getElementById("panel3").style.display="none"},applyRow(e){this.tmp_id=e.ladder,this.title=`報名梯次${e.ladder}的學術科考試`,document.getElementById("panel1").style.display="none",document.getElementById("panel2").style.display="none",document.getElementById("panel3").style.display="block",this.apply_info={name:"王小明",sex:"男",id:"A123456789",birthday:"056/04/28",tel_1:"031234567",tel_2:"031234567",phone:"0912345678",mail:"example@gmail.com",code:"123",address:"",file_1:null,file_2:null,file_3:null}},back(){document.getElementById("panel1").style.display="block",document.getElementById("panel2").style.display="none",document.getElementById("panel3").style.display="none",this.onReset()},removeFile(e){1==e?this.apply_info.file_1="":2==e?this.apply_info.file_2="":3==e&&(this.apply_info.file_3="")},onSubmit_1(){if(this.prove_info.file_1&&this.prove_info.file_2&&this.prove_info.file_3)if(this.video_check){this.video_check=!1,document.getElementById("panel1").style.display="block",document.getElementById("panel2").style.display="none",document.getElementById("panel3").style.display="none",this.$q.notify({color:"green",textColor:"white",icon:"check_circle",message:"送出成功！請等待審查",position:"top"}),this.onReset();for(let e=0;e<this.rows.length;e++)this.rows[e].ladder==this.tmp_id&&(this.rows[e].result="審核中")}else this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"請觀看教育影片",position:"top"});else this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"請完整上傳證明",position:"top"})},onSubmit_2(){this.$refs.name_Ref.validate(),this.$refs.sex_Ref.validate(),this.$refs.id_Ref.validate(),this.$refs.birthday_Ref.validate(),this.$refs.tel_1_Ref.validate(),this.$refs.tel_2_Ref.validate(),this.$refs.phone_Ref.validate(),this.$refs.mail_Ref.validate(),this.$refs.code_Ref.validate(),this.$refs.address_Ref.validate(),this.$refs.file_1_Ref.validate(),this.$refs.file_2_Ref.validate(),this.$refs.file_3_Ref.validate(),!(this.$refs.name_Ref.hasError||this.$refs.sex_Ref.hasError||this.$refs.id_Ref.hasError||this.$refs.birthday_Ref.hasError||this.$refs.tel_1_Ref.hasError||this.$refs.tel_2_Ref.hasError||this.$refs.phone_Ref.hasError||this.$refs.mail_Ref.hasError||this.$refs.code_Ref.hasError||this.$refs.address_Ref.hasError||this.$refs.file_1_Ref.hasError||this.$refs.file_2_Ref.hasError||this.$refs.file_3_Ref.hasError)&&this.apply_info.file_1&&this.apply_info.file_2&&this.apply_info.file_3?!0!==this.accept?this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"您需要先接受許可和條款",position:"top"}):(document.getElementById("panel1").style.display="block",document.getElementById("panel2").style.display="none",document.getElementById("panel3").style.display="none",this.$q.notify({color:"green",textColor:"white",icon:"check_circle",message:"報名成功！！",position:"top"}),this.onReset()):this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"請詳細填寫資料",position:"top"})},onReset(){this.apply_info.name=null,this.apply_info.sex=null,this.apply_info.id=null,this.apply_info.birthday=null,this.apply_info.tel_1=null,this.apply_info.tel_2=null,this.apply_info.phone=null,this.apply_info.mail=null,this.apply_info.code=null,this.apply_info.address=null,this.apply_info.file_1=null,this.apply_info.file_2=null,this.apply_info.file_3=null,this.accept=!1,this.$refs.name_Ref.resetValidation(),this.$refs.sex_Ref.resetValidation(),this.$refs.id_Ref.resetValidation(),this.$refs.birthday_Ref.resetValidation(),this.$refs.tel_1_Ref.resetValidation(),this.$refs.tel_2_Ref.resetValidation(),this.$refs.phone_Ref.resetValidation(),this.$refs.mail_Ref.resetValidation(),this.$refs.code_Ref.resetValidation(),this.$refs.address_Ref.resetValidation(),this.$refs.file_1_Ref.resetValidation(),this.$refs.file_2_Ref.resetValidation(),this.$refs.file_3_Ref.resetValidation(),this.prove_info.file_1=null,this.prove_info.file_2=null,this.prove_info.file_3=null},handleOpenUrl(){(0,F.A)("https://www.post.gov.tw/post/internet/Postal/index.jsp?ID=208",void 0,{target:"_blank"})},playVideo(){this.showVideoDialog=!0,this.canClose=!1,this.$nextTick((()=>{this.$refs.videoPlayer.play()}))},onVideoEnded(){this.canClose=!0},onVideoPlay(){this.canClose=!1},closeDialog(){this.video_check=!0,this.showVideoDialog=!1,this.$refs.videoPlayer.pause()}}};var $=a(2807),C=a(4092),E=a(5262),x=a(6384),q=a(4700),U=a(9980),I=a(492),B=a(7837),L=a(5848),A=a(849),D=a(2156),P=a(3316),Q=a(4189),z=a(2669),S=a(8582),M=a.n(S);const T=(0,$.A)(w,[["render",R]]),j=T;M()(w,"components",{QTable:C.A,QTd:E.A,QBtn:x.A,QPagination:q.A,QFile:U.A,QIcon:I.A,QInput:B.A,QSelect:L.A,QCheckbox:A.A,QDialog:D.A,QCard:P.A,QCardSection:Q.A,QCardActions:z.A})}}]);